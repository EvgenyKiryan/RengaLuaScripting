Армирование
===========

Шаблон стиля арматурного изделия
--------------------------------

Арматурным изделием в Renga являются:

1. Арматурный стержень.
2. Арматурная сетка.
3. Арматурный каркас плоский.
4. Арматурный каркас пространственный.

Арматурные изделия используются в стилях армирования для автоматической расстановки в несущих конструкциях BIM-модели Renga.

.. important:: Подробнее про армирование см. `Справку Renga <https://help.rengabim.com/ru/Content/reinforcement_styles.htm>`_

Арматурный стержень
"""""""""""""""""""
Создается с помощью функции :ref:`AddRebar <rebar>` пространства имён ``Style``.

Для описания шаблона стиля арматурного стержня необходимо:

1. Создать в файле параметров JSON параметр ``RebarStyleId`` с типом данных :ref:`ID <id_param>` для указания пользователем стиля арматурного стержня. 
2. Описать базовую :ref:`трёхмерную кривую <curve3d>`, которая будет являться направляющей для 3D-тела арматурного стержня.
3. Передать значение этого параметра ``RebarStyleId`` и созданную кривую в функцию :ref:`AddRebar <rebar>` в качестве аргументов.

Для создания направляющих кривых сложной формы (хомуты, шпильки, "лягушки", выпуски арматуры и т.п.), а также для размещения стержней относительно друг друга разработчику шаблона необходимо знать, как получить в скрипте диаметры используемой арматуры. Для получения параметров арматурных стержней, используемых в проекте Renga, необходимо:

1. Получить стиль арматурного стержня по его идентификатору с помощью функции :ref:`GetRebarStyle <rebar_style>` пространства имён ``Project``.
2. Получить :ref:`контейнер параметров <params_container>` из полученного стиля с помощью функции  :ref:`CastToParameterContainer <params_container>`. Получить значение необходимого параметра с помощью метода ``:GetParameterValues()``.

.. code-block:: lua
    :caption: Пример. Функция получения диаметра стиля стержня по его ID
    :linenos:
    
    local function GetRebarDiameter(rebarStyleId)
        local style = Project.GetRebarStyle(rebarStyleId)
        local parameters = CastToParameterContainer(style)
        return parameters:GetParameterValues().RebarDiameter
    end

.. table:: Допустимые значения параметров

    +-----------------------+---------------------------------------+
    | RebarDiameter         | Диаметр арматурного стержня           |
    +-----------------------+---------------------------------------+
    | ReinforcementGradeId  | Идентификатор класса армирования      |
    +-----------------------+---------------------------------------+
    | MaterialId            | Идентификатор материала               |
    +-----------------------+---------------------------------------+

Набор арматурных стержней
"""""""""""""""""""""""""

Создается с помощью функции :ref:`AddRebarSet <rebar>` пространства имён ``Style``.

Применяется для создания массивов арматурных стержней в сетках и каркасах. Например, для создания арматурной сетки используются два набора арматурных стержней - продольный и поперечный.

:doc:`Условный уровень детализации </modelgeometry>` арматурного изделия создается с помощью :doc:`плоской 2D-геометрии </planar>` (класс GeometrySet2D).